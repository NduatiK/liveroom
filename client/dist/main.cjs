"use strict";const i=r=>Object.freeze(Object.defineProperty({__proto__:null,default:r},Symbol.toStringTag,{value:"Module"}));let c,t;l();u();const m="liveroom-client-element";async function l(){const o=new URLSearchParams(window.location.search).get("_liveroom"),e=document.querySelector("script[src*='/liveroom-client-element']")||document.querySelector("script[src*='/client/dist/main.js']")||document.querySelector("script[src='/src/main.ts']"),s=(e==null?void 0:e.getAttribute("data-url"))||"wss://liveroom.app/client_socket",a=(e==null?void 0:e.getAttribute("data-roomid"))||null,n=o||a;n&&n!=c&&(c=n,t&&(t.remove(),t=void 0),await d(s,c))}function u(){window.addEventListener("popstate",l)}async function d(r,o){if(!o)return!1;await Promise.resolve().then(()=>i(require("./liveroom-client-element.cjs"))),console.log("[Liveroom] Installed successfully");const e=document.getElementsByTagName("body")[0];return t=document.createElement(m),t.setAttribute("url",r),o&&t.setAttribute("room_id",o),e.appendChild(t),console.log("[Liveroom] Injected successfully"),!0}
