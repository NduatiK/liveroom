"use strict";const a=o=>Object.freeze(Object.defineProperty({__proto__:null,default:o},Symbol.toStringTag,{value:"Module"})),d="liveroom-client-element",u="0.0.28",v="module",p="./dist/main.js",f="./dist/main.cjs",_=["dist","!dist/vite.svg"],y={".":{import:"./dist/main.js",require:"./dist/main.cjs"},"./liveroom-client-element":{import:"./dist/liveroom-client-element.js",require:"./dist/liveroom-client-element.cjs"}},b={dev:"vite",build:"vite build",preview:"vite preview",format:"prettier --write .","check-format":"prettier . --check",check:"svelte-check --tsconfig ./tsconfig.json",lint:"npm run check-format && npm run check"},g={"phx-live-state":"0.10.2"},j={"@sveltejs/vite-plugin-svelte":"2.4.6","@tsconfig/svelte":"5.0.2",prettier:"3.0.3",svelte:"4.2.1","svelte-check":"3.5.2",tslib:"2.6.2",typescript:"5.2.2",vite:"4.4.9"},h={name:d,private:!1,version:u,type:v,module:p,main:f,files:_,exports:y,scripts:b,dependencies:g,devDependencies:j};let s,t,e=null;const w="liveroom-client-element",r=h.version;c();k();async function c(){const n=new URLSearchParams(window.location.search).get("_liveroom");e=document.querySelector("script[src*='/liveroom-client-element']"),e==null||e.setAttribute("version",r);const l=(e==null?void 0:e.getAttribute("data-url"))||"wss://liveroom.app/client_socket",m=(e==null?void 0:e.getAttribute("data-roomid"))||null,i=n||m;i&&i!=s&&(s=i,t&&(t.remove(),t=void 0),await E(l,s))}function k(){window.addEventListener("popstate",c)}async function E(o,n){return n?(await Promise.resolve().then(()=>a(require("./liveroom-client-element.cjs"))),console.log(`[Liveroom] Installed successfully (v${r})`),t=document.createElement(w),t.setAttribute("url",o),t.setAttribute("version",r),n&&t.setAttribute("room_id",n),document.body.appendChild(t),console.log("[Liveroom] Injected successfully"),!0):!1}
