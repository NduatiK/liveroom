"use strict";const i=n=>Object.freeze(Object.defineProperty({__proto__:null,default:n},Symbol.toStringTag,{value:"Module"}));let l,t;c();u();const m="liveroom-client-element";async function c(){const o=new URLSearchParams(window.location.search).get("_liveroom"),e=document.querySelector("script[src*='liveroom-client-element.js']")||document.querySelector("script[src*='client/dist/main.js']"),s=(e==null?void 0:e.getAttribute("data-url"))||"wss://liveroom.app/client_socket",a=(e==null?void 0:e.getAttribute("data-roomid"))||null,r=o||a;r&&r!=l&&(l=r,t&&(t.remove(),t=void 0),await d(s,l))}function u(){window.addEventListener("popstate",c)}async function d(n,o){if(!o)return!1;await Promise.resolve().then(()=>i(require("./liveroom-client-element.cjs"))),console.log("[Liveroom] Installed successfully");const e=document.getElementsByTagName("body")[0];return t=document.createElement(m),t.setAttribute("url",n),o&&t.setAttribute("room_id",o),e.appendChild(t),console.log("[Liveroom] Injected successfully"),!0}
