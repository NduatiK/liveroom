"use strict";const m=o=>Object.freeze(Object.defineProperty({__proto__:null,default:o},Symbol.toStringTag,{value:"Module"})),a="liveroom-client-element",d="0.0.19",u="module",v="./dist/main.js",p="./dist/main.cjs",f=["dist","!dist/vite.svg"],_={".":{import:"./dist/main.js",require:"./dist/main.cjs"},"./liveroom-client-element":{import:"./dist/liveroom-client-element.js",require:"./dist/liveroom-client-element.cjs"}},y={dev:"vite",build:"vite build",preview:"vite preview",format:"prettier --write .","check-format":"prettier . --check",check:"svelte-check --tsconfig ./tsconfig.json",lint:"npm run check-format && npm run check"},g={"phx-live-state":"0.10.1"},j={"@sveltejs/vite-plugin-svelte":"2.4.5","@tsconfig/svelte":"5.0.2",prettier:"3.0.3",svelte:"4.2.0","svelte-check":"3.5.1",tslib:"2.6.2",typescript:"5.2.2",vite:"4.4.9"},b={name:a,private:!1,version:d,type:u,module:v,main:p,files:f,exports:_,scripts:y,dependencies:g,devDependencies:j},h=b.version;let s,t,e=null;r();k();const w="liveroom-client-element";async function r(){const n=new URLSearchParams(window.location.search).get("_liveroom");e=document.querySelector("script[src*='/liveroom-client-element']");const c=(e==null?void 0:e.getAttribute("data-url"))||"wss://liveroom.app/client_socket",l=(e==null?void 0:e.getAttribute("data-roomid"))||null,i=n||l;i&&i!=s&&(s=i,t&&(t.remove(),t=void 0),await E(c,s))}function k(){window.addEventListener("popstate",r)}async function E(o,n){return n?(await Promise.resolve().then(()=>m(require("./liveroom-client-element.cjs"))),console.log(`[Liveroom] Installed successfully (v${h})`),t=document.createElement(w),t.setAttribute("url",o),n&&t.setAttribute("room_id",n),document.body.appendChild(t),console.log("[Liveroom] Injected successfully"),!0):!1}
