"use strict";const a=o=>Object.freeze(Object.defineProperty({__proto__:null,default:o},Symbol.toStringTag,{value:"Module"})),d="liveroom-client-element",u="0.0.23",v="module",p="./dist/main.js",f="./dist/main.cjs",_=["dist","!dist/vite.svg"],y={".":{import:"./dist/main.js",require:"./dist/main.cjs"},"./liveroom-client-element":{import:"./dist/liveroom-client-element.js",require:"./dist/liveroom-client-element.cjs"}},b={dev:"vite",build:"vite build",preview:"vite preview",format:"prettier --write .","check-format":"prettier . --check",check:"svelte-check --tsconfig ./tsconfig.json",lint:"npm run check-format && npm run check"},g={"phx-live-state":"0.10.1"},j={"@sveltejs/vite-plugin-svelte":"2.4.5","@tsconfig/svelte":"5.0.2",prettier:"3.0.3",svelte:"4.2.0","svelte-check":"3.5.1",tslib:"2.6.2",typescript:"5.2.2",vite:"4.4.9"},h={name:d,private:!1,version:u,type:v,module:p,main:f,files:_,exports:y,scripts:b,dependencies:g,devDependencies:j};let s,e,t=null;c();k();const w="liveroom-client-element",r=h.version;async function c(){const n=new URLSearchParams(window.location.search).get("_liveroom");t=document.querySelector("script[src*='/liveroom-client-element']");const l=(t==null?void 0:t.getAttribute("data-url"))||"wss://liveroom.app/client_socket",m=(t==null?void 0:t.getAttribute("data-roomid"))||null,i=n||m;i&&i!=s&&(s=i,e&&(e.remove(),e=void 0),await E(l,s))}function k(){window.addEventListener("popstate",c)}async function E(o,n){return n?(await Promise.resolve().then(()=>a(require("./liveroom-client-element.cjs"))),console.log(`[Liveroom] Installed successfully (v${r})`),e=document.createElement(w),e.setAttribute("url",o),e.setAttribute("version",r),n&&e.setAttribute("room_id",n),document.body.appendChild(e),console.log("[Liveroom] Injected successfully"),!0):!1}
