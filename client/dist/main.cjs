"use strict";var m=Object.create;var i=Object.defineProperty;var u=Object.getOwnPropertyDescriptor;var d=Object.getOwnPropertyNames;var _=Object.getPrototypeOf,f=Object.prototype.hasOwnProperty;var y=(e,t,r,l)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of d(t))!f.call(e,n)&&n!==r&&i(e,n,{get:()=>t[n],enumerable:!(l=u(t,n))||l.enumerable});return e};var p=(e,t,r)=>(r=e!=null?m(_(e)):{},y(t||!e||!e.__esModule?i(r,"default",{value:e,enumerable:!0}):r,e));const v=e=>Object.freeze(Object.defineProperty({__proto__:null,default:e},Symbol.toStringTag,{value:"Module"}));let s,c,o=null;a();g();const b="liveroom-client-element";async function a(){const t=new URLSearchParams(window.location.search).get("_liveroom");o=document.querySelector("script[src*='/liveroom-client-element']")||document.querySelector("script[src*='/client/dist/main.js']")||document.querySelector("script[src='/src/main.ts']");const r=(o==null?void 0:o.getAttribute("data-url"))||"wss://liveroom.app/client_socket",l=(o==null?void 0:o.getAttribute("data-roomid"))||null,n=t||l;n&&n!=s&&(s=n,c&&(c.remove(),c=void 0),await w(r,s))}function g(){window.addEventListener("popstate",a)}async function w(e,t){var l;if(!t)return!1;await((l=o==null?void 0:o.getAttribute("src"))!=null&&l.startsWith("https://cdn.jsdelivr.net/npm/liveroom-client-element@0.0.15")?import("https://cdn.jsdelivr.net/npm/liveroom-client-element@0.0.15/dist/liveroom-client-element.min.js"):Promise.resolve().then(()=>v(require("./liveroom-client-element.cjs")))),console.log("[Liveroom] Installed successfully");const r=document.getElementsByTagName("body")[0];return c=document.createElement(b),c.setAttribute("url",e),t&&c.setAttribute("room_id",t),r.appendChild(c),console.log("[Liveroom] Injected successfully"),!0}
